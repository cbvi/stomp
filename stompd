#!/usr/bin/env perl6
my $socket = IO::Socket::INET.new(
    localhost => '127.0.0.1',
    localport => 70291,
    :listen
);

while (my $client = $socket.accept()) {

    my $req = '';

    while (my $r = $client.recv(1)) {
        if $r ne "\n" {
            $req ~= $r;
        }
        else {
            last;
        }
    }
    $client.send("you said: $req\n");
}
